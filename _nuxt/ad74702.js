(window.webpackJsonp=window.webpackJsonp||[]).push([[16,6],{308:function(t,e,n){var content=n(312);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("6c12f4d6",content,!0,{sourceMap:!1})},311:function(t,e,n){"use strict";n(308)},312:function(t,e,n){var o=n(57)((function(i){return i[1]}));o.push([t.i,".minimap[data-v-3b43bbb6]{\n  border:1px solid #00f;\n  position:absolute!important;\n  top:20px;\n  left:20px\n}\n.design[data-v-3b43bbb6]{\n  border:1px solid #000\n}",""]),o.locals={},t.exports=o},314:function(t,e){},315:function(t,e){},316:function(t,e){},319:function(t,e,n){"use strict";n.r(e);var o=n(313),r={version:"3.6.3",objects:[{type:"rect",version:"3.6.3",left:513,top:160,width:50,height:50,fill:"#8D476B",opacity:.8},{type:"circle",version:"3.6.3",left:174,top:166,width:100,height:100,fill:"#383881",opacity:.8,radius:50,startAngle:0,endAngle:6.283185307179586},{type:"triangle",version:"3.6.3",left:330,top:242,width:50,height:50,fill:"#C8EFF0",opacity:.8},{type:"line",version:"3.6.3",left:328,top:300,width:150,height:100,stroke:"#98D727",x1:-75,x2:75,y1:-50,y2:50},{type:"textbox",version:"3.6.3",lockScalingFlip:!0,lockRotation:!0,left:10,top:10,width:500,height:75.03,fill:"white",angle:0,text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor ",fontSize:14,fontWeight:"",fontFamily:"helvetica",minWidth:20,splitByGrapheme:!1,styles:{}}]},l={name:"Fabric",data:function(){return{canvas:null,text:"nothing here",windowWidth:window.innerWidth,windowHeight:window.innerHeight,design:null,canvasWidth:null}},created:function(){window.addEventListener("resize",this.myEventHandler)},destroyed:function(){window.removeEventListener("resize",this.myEventHandler)},mounted:function(){o.fabric.Object.prototype.objectCaching=!1;var t=new o.fabric.Canvas("design",{containerClass:"design",allowTouchScrolling:!0});this.design=t;var e=new o.fabric.Canvas("minimap",{containerClass:"minimap",selection:!1});function n(){var n={width:800,height:600},r=t.viewportTransform,l=o.fabric.util.findScaleToFit(n,t),c=o.fabric.util.findScaleToFit(t,e),d=e.getRetinaScaling(),h=n.width*l,f=n.height*l;t.viewportTransform=[l,0,0,l,(t.getWidth()-h)/2,(t.getHeight()-f)/2];var canvas=t.toCanvasElement(c*d);return t.viewportTransform=r,canvas}function l(){var n={width:800,height:600},rect=e.getObjects()[0],r=o.fabric.util.findScaleToFit(n,t),l=o.fabric.util.findScaleToFit(n,e),c=r/t.getZoom();rect.scaleX=c,rect.scaleY=c,rect.top=e.backgroundImage.top-t.viewportTransform[5]*l/t.getZoom(),rect.left=e.backgroundImage.left-t.viewportTransform[4]*l/t.getZoom(),e.requestRenderAll()}t.loadFromJSON(r,(function(){!function(){var canvas=n(),r=new o.fabric.Image(canvas);r.scaleX=1/t.getRetinaScaling(),r.scaleY=1/t.getRetinaScaling(),e.centerObject(r),e.backgroundColor="white",e.backgroundImage=r,e.requestRenderAll();var l=new o.fabric.Rect({top:r.top,left:r.left,width:r.width/t.getRetinaScaling(),height:r.height/t.getRetinaScaling(),fill:"rgba(0, 0, 255, 0.3)",cornerSize:6,transparentCorners:!1,cornerColor:"blue",strokeWidth:0});l.controls={br:o.fabric.Object.prototype.controls.br},e.add(l)}(),l()})),t.on("object:modified",(function(){var canvas;canvas=n(),e.backgroundImage._element=canvas,e.requestRenderAll()})),t.on("mouse:wheel",(function(e){if(!0===e.e.altKey){var n=e.e.deltaY,o=t.getZoom();(o*=Math.pow(.999,n))>20&&(o=20),o<.01&&(o=.01),this.setZoom(o),l(),e.e.preventDefault(),e.e.stopPropagation()}})),t.on("mouse:down",(function(t){var e=t.e;console.log("ðŸŽ¹",e),!0===e.metaKey&&(this.isDragging=!0,this.selection=!1,this.lastPosX=e.clientX,this.lastPosY=e.clientY)})),t.on("mouse:move",(function(t){if(this.isDragging){var e=t.e,n=this.viewportTransform;n[4]+=e.clientX-this.lastPosX,n[5]+=e.clientY-this.lastPosY,this.requestRenderAll(),l(),this.lastPosX=e.clientX,this.lastPosY=e.clientY}}));var c=this;t.on("mouse:up",(function(t){c.canvasWidth=t,this.isDragging=!1,this.selection=!0})),t.on({"touch:gesture":function(){this.text=" Gesture "},"touch:drag":function(){this.text=" Dragging "},"touch:orientation":function(){this.text=" Orientation "},"touch:shake":function(){this.text=" Shaking "},"touch:longpress":function(){this.text=" Longpress "}})},methods:{resetZoom:function(){this.design.setZoom(1)},zoomIn:function(){this.design.setZoom(1.1*this.design.getZoom())},zoomOut:function(){this.design.setZoom(this.design.getZoom()/1.1)},myEventHandler:function(t){console.log("ðŸŽ¹",t),this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},add:function(){var t=new o.fabric.Triangle({width:20,height:30,fill:"blue",left:100,top:50});this.canvas.add(t)}}},c=(n(311),n(24)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto "},[n("div",[t._v(t._s(t.text))]),t._v(" "+t._s(t.windowWidth)+" - "+t._s(t.windowHeight)+"\n\n  "),n("p",{staticClass:"text-primary"},[t._v("\n    test\n  ")]),t._v(" "),n("div",{staticClass:"btn btn-primary btn-sm",on:{click:t.zoomOut}},[t._v("\n    -\n  ")]),t._v(" "),n("div",{staticClass:"btn btn-primary btn-sm",on:{click:t.zoomIn}},[t._v("\n    +\n  ")]),t._v(" "),n("div",{staticClass:"btn btn-primary btn-sm",on:{click:t.resetZoom}},[t._v("\n    100%\n  ")]),t._v(" "),n("code",{ref:"output"},[t._v("N/A")]),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"w-3/4 "},[n("div",{staticClass:"relative bg-base-100 overflow-auto"},[n("canvas",{staticClass:"text-primary",attrs:{id:"design",width:1500,height:500}})]),t._v(" "),n("canvas",{staticStyle:{position:"absolute",top:"10px",left:"10px"},attrs:{id:"minimap",width:"130",height:"130"}})]),t._v(" "),n("pre",{staticClass:"w-1/4 overflow-auto",staticStyle:{height:"800px"}},[t._v(t._s(t.canvasWidth))])])])}),[],!1,null,"3b43bbb6",null);e.default=component.exports},343:function(t,e,n){"use strict";n.r(e);var o={name:"Index"},r=n(24),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  Pan: alt + click\n\n  "),n("fabric")],1)}),[],!1,null,"7ff2d0a2",null);e.default=component.exports;installComponents(component,{Fabric:n(319).default})}}]);